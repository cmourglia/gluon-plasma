version: '{build}'

clone_script:
- cmd: git clone -q --recursive --branch=%APPVEYOR_REPO_BRANCH% https://github.com/%APPVEYOR_REPO_NAME%.git %APPVEYOR_BUILD_FOLDER%
- cmd: git checkout -qf %APPVEYOR_REPO_COMMIT%

build:
  verbosity: detailed
  
clone_folder: c:\projects\gluon-plasma

image: Visual Studio 2019

before_build:
  # Setup MSVC Environment
  - call "%MSVC_SETUP_PATH%" %MSVC_SETUP_ARG%
  - cd %APPVEYOR_BUILD_FOLDER%

build_script:
  # CMake
  - cmake -G Ninja
    "-DCMAKE_BUILD_TYPE=Release"
    %APPVEYOR_BUILD_FOLDER%
  # Build
  - ninja
